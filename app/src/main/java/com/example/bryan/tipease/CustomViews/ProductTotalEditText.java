package com.example.bryan.tipease.CustomViews;import android.content.Context;import android.util.AttributeSet;import android.view.KeyEvent;import android.widget.EditText;/** * Considering how goofy androids IMS framework is, to manually control the keyboard self-closing on a backpress you have to override * a the textview that the IME is attached to, and implement onKeyPreIme... Seems silly that i have to do this to work specifically with the IMS * framework but hey, i'm a noob so what can i say really? */public class ProductTotalEditText extends EditText {    private BackKeyListner backKeyListner;    public ProductTotalEditText(Context c){        this(c, null);    }    public ProductTotalEditText(Context c, AttributeSet set){      super(c, set);  }    public interface BackKeyListner{        void backKeyPressed();    }    public void setBackKeyListener(BackKeyListner listener){        this.backKeyListner = listener;    }    @Override    public boolean onKeyPreIme(int keyCode, KeyEvent event){        if(keyCode == KeyEvent.KEYCODE_BACK)            if(backKeyListner != null)                backKeyListner.backKeyPressed();        return true;    }}